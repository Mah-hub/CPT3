<div class="container-fluid">

    <app-page-title title="Company details" [breadcrumbItems]="breadCrumbItems"></app-page-title>
    




    <div class="row">
      <div class="d-flex">
        <button class="btn btn-success ms-auto mb-2" (click)="openModal(content)">Update Company </button>
      </div>
      <ng-template #content role="document" let-modal>
        <div class="modal-header">
          <h5 class="modal-title mt-0">Update Company : {{code}}</h5>
          <button type="button" class="btn-close" aria-hidden="true" (click)="modal.dismiss('Cross click')"></button>
        </div>
        <div class="modal-body">
          <form (ngSubmit)="updateCompany()" [formGroup]="companyForm">
            <div class="row">
            




              <div class="col-12">     
                <div class="mb-3">
                  <label class="control-label">Name</label>
                  
                  <input type="text" class="form-control" formControlName="name"
                    [ngClass]="{'is-invalid': typesubmit && type.email.errors}" placeholder="Enter a valid company name" />
                  <div *ngIf="typesubmit && type.name.errors" class="invalid-feedback">
                    <span *ngIf="type.name.errors.required">This value is required.</span>
                    <span *ngIf="type.name.errors.pattern">This value should be a valid company name.</span>
                  </div>
  
                </div>
              </div>





              <div class="col-12">     
                <div class="mb-3">
                  <label class="control-label">Manager</label>
                  
                  <input type="text" class="form-control" formControlName="manager"
                    [ngClass]="{'is-invalid': typesubmit && type.manager.errors}" placeholder="Enter the manager username" />
                  <div *ngIf="typesubmit && type.manager.errors" class="invalid-feedback">
                    <span *ngIf="type.manager.errors.required">This value is required.</span>
                    <span *ngIf="type.manager.errors.pattern">This value should be a valid username.</span>
                  </div>
  
                </div>
              </div>
              

              <div class="col-12">     
                <div class="mb-3">
                  <label class="control-label">Address</label>
                  
                  <input type="text" class="form-control" formControlName="address"
                    [ngClass]="{'is-invalid': typesubmit && type.manager.errors}" placeholder="Enter the address" />
                  <div *ngIf="typesubmit && type.manager.errors" class="invalid-feedback">
                    <span *ngIf="type.manager.errors.required">This value is required.</span>
                    <span *ngIf="type.manager.errors.pattern">This value should be a valid address.</span>
                  </div>
  
                </div>
              </div>

              <div class="col-12">     
                <div class="mb-3">
                  <label class="control-label">Country</label>
                  
                  <input type="text" class="form-control" formControlName="country"
                    [ngClass]="{'is-invalid': typesubmit && type.manager.errors}" placeholder="Enter the country" />
                  <div *ngIf="typesubmit && type.manager.errors" class="invalid-feedback">
                    <span *ngIf="type.manager.errors.required">This value is required.</span>
                    <span *ngIf="type.manager.errors.pattern">This value should be a valid address.</span>
                  </div>
  
                </div>
              </div>

           







            </div>
            <button type="submit" class="btn btn-success" id="btn-save-event" (click)="updateCompany()">
              Update
            </button>

           
          </form>
        </div>
      </ng-template>
    </div>





    <div class="row">
        <div class="col-lg-12">
          <div class="card">
            <div class="card-body">
              <div class="row">
                <div class="col-xl-6">

                  
                  <div class="product-detai-imgs">
                   
                     <label for="fileInput"  class="img-fluid mx-auto d-block hoverable">
                        <img  [src]="url ? url : companydetails.image"  id="expandedImg" alt=""
                          class="img-fluid mx-auto d-block">
                          <div class="hover-text"><i class="bx bxs-camera"> </i></div>
                    <div class="background"></div>
                          <input  id="fileInput" type="file" accept="image/*" (change)="onSelectFile($event)">
                          </label>
                  </div>
                </div>
    
                <div class="col-xl-6">
                  <div class="mt-4 mt-xl-3">
                    <a  class="text-primary">Code : </a>
                    <h5 class="mt-1 mb-3">{{companydetails.id}}</h5>
                    <a  class="text-primary">Name : </a>
                    <h5 class="mt-1 mb-3">{{companydetails.name}}</h5>
                    <a  class="text-primary">Manager : </a>
                    <h5 class="mt-1 mb-3">{{companydetails.manager["username"]}}</h5>
                    <a  class="text-primary">Address : </a>
                    <h6 class="mt-1 mb-3">{{companydetails.address}}  </h6>
                    <a  class="text-primary">Country : </a>
                    <h6 class="mt-1 mb-3">{{companydetails.country}}  </h6>

                   
    
                  
                  </div>
                </div>
              </div>
              <!-- end row -->
    
           
              <!-- end Specifications -->
    
            </div>
            
          </div>
        </div>
    
        <!-- end card -->
      </div>
      <div class="d-flex">
        <button class="btn btn-danger ms-auto mb-2" (click)="openModal(content)">Delete Company </button>
      </div>
    
    
    </div>